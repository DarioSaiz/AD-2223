SET SERVEROUTPUT ON; 
DROP TABLE TRIANGULOS; 

CREATE OR REPLACE TYPE TIPO_TRIANGULO AS OBJECT (
	ID NUMBER, 
	T_BASE NUMBER, 
	T_ALTURA NUMBER, 
	MEMBER FUNCTION AREA RETURN NUMBER,
	MEMBER PROCEDURE MOSTRAR);
/

CREATE OR REPLACE TYPE BODY TIPO_TRIANGULO 
AS 
	MEMBER FUNCTION AREA RETURN NUMBER
	IS 
	BEGIN 
		RETURN T_BASE*T_ALTURA; 
	END; 
	
	MEMBER PROCEDURE MOSTRAR
	IS
	BEGIN 
	DBMS_OUTPUT.PUT_LINE('El triangulo con id: '|| ID || ' con base '|| T_BASE || ' y altura ' || T_ALTURA || ' tiene un area de:' ||  T_BASE*T_ALTURA );
	END;
END;
/	
SHOW ERRORS; 
DROP TABLE TRIANGULOS; 
CREATE TABLE TRIANGULOS OF TIPO_TRIANGULO;
INSERT INTO TRIANGULOS VALUES (TIPO_TRIANGULO(1, 5, 5)); 
INSERT INTO TRIANGULOS VALUES (TIPO_TRIANGULO(2,10,10));  
SELECT * FROM TRIANGULOS; 


DECLARE
	MI_TRIANGULO TIPO_TRIANGULO;
	CURSOR C1 IS SELECT VALUE(T) INTO MI_TRIANGULO FROM TRIANGULOS T; 
BEGIN
	OPEN C1; 
	LOOP
		FETCH C1 INTO MI_TRIANGULO; 
		EXIT WHEN C1%NOTFOUND; 
		MI_TRIANGULO.MOSTRAR();
	END LOOP; 
	CLOSE C1; 	
	
END;